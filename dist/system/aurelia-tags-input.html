<template>
  <require from="./aurelia-tags-input.css"></require>
  <div class="input" click.delegate="onClick()">

    <div repeat.for="tag of tags" 
      keypress.delegate="onTagKey(tag, $event)"
      class="aurelia-tag-input ${tag.editing ? 'editing': ''}">

      <div class="inner-input" contenteditable="true"
        textcontent.two-way="tag.value"
        focus.bind="tag.focus"
        click.delegate="onTagClick(tag, 'edit')"
        blur.trigger="onTagBlur(tag, $event)">
      </div>
      <span class="close-input" 
        show.bind="!tag.editing" 
        click.delegate="onTagClick(tag, 'delete')">x</span>
    </div>
  </div>

</template>
